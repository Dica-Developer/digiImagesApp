var impress=function(g,l){function p(b){var a=b.stepData;"overview"!==b.id&&(h(b,w(a)),h(b,{width:"350px",height:"350px"}),b=q("img",b),b.src=b.src.replace("size=500","size=300"))}function k(b){b>=globalImageCount-IMAGES_PER_ROW&&load(35*globalLoadCount)}function x(b,a){b.forEach(function(b){var d=b.dataset,d={translate:{x:d.x||0,y:d.y||0,z:d.z||0},hoverTranslate:{x:d.x||0,y:d.y||0,z:d.z+200||200},selectTranslate:{x:d.x||0,y:d.y||0,z:d.z+50||50},rotate:{x:d.rotateX||0,y:d.rotateY||0,z:d.rotateZ||
d.rotate||0},scale:{x:d.scaleX||d.scale||1,y:d.scaleY||d.scale||1,z:d.scaleZ||1},hoverScale:{x:d.hoverX||d.hover||1,y:d.hoverY||d.hover||1,z:d.hoverZ||1}};b.stepData=d;ELEM_ID++;b.id||(b.id="step-"+ELEM_ID);h(b,{position:"absolute",transform:"translate(-50%,-50%)"+r(d.translate)+s(d.rotate,!1)+t(d.scale),transformStyle:"preserve-3d"});a&&m.appendChild(b)});a&&(c=y(".step",i))}var z=function(){var b=g.createElement("dummy").style,a=["Webkit","Moz","O","ms","Khtml"],c={};return function(d){if("undefined"===
typeof c[d]){var e=d.charAt(0).toUpperCase()+d.substr(1),e=(d+" "+a.join(e+" ")+e).split(" ");c[d]=null;for(var f in e)if(e.hasOwnProperty(f)&&void 0!==b[e[f]]){c[d]=e[f];break}}return c[d]}}();Array.prototype.contains=function(b){for(var a=0,c=this.length;a<c&&this[a]!==b;a++);return a<c};var h=function(b,a){for(var c in a)if(a.hasOwnProperty(c)){var d=z(c);null!==d&&(b.style[d]=a[c])}return b},v=function(b){return g.getElementById(b)},q=function(b,a){a=a||g;return a.querySelector(b)},y=function(b,
a){a=a||g;return[].slice.call(a.querySelectorAll(b))},r=function(b){return" translate3d("+b.x+"px,"+b.y+"px,"+b.z+"px) "},s=function(b,a){var c=" rotateX("+b.x+"deg) ",d=" rotateY("+b.y+"deg) ",e=" rotateZ("+b.z+"deg) ";return a?e+d+c:c+d+e},t=function(b){return" scaleX("+b.x+") scaleY("+b.y+") scaleZ("+b.z+") "},n=navigator.userAgent.toLowerCase(),n=null!==z("perspective")&&-1==n.search(/(iphone)|(ipod)|(ipad)|(android)/),i=v("impress");if(n){i.className="";var m=g.createElement("div");m.className=
"canvas";[].slice.call(i.childNodes).forEach(function(b){m.appendChild(b)});i.appendChild(m);var c=y(".step",i);g.documentElement.style.height="100%";var n={position:"absolute",transformOrigin:"top left",transition:"all 1s ease-in-out",transformStyle:"preserve-3d"},w=function(b){return{position:"absolute",transform:"translate(-50%,-50%)"+r(b.translate)+s(b.rotate,!1)+t(b.scale),transformStyle:"preserve-3d",transitionProperty:"all",transitionTimingFunction:"ease-out",transitionDuration:"500ms"}};h(i,
n);h(i,{top:"50%",left:"50%",perspective:"1000px"});h(m,n);var A={translate:{x:0,y:0,z:0},rotate:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}};x(c,!1);var f=null,B=null,e=null,j=function(b){if(!b||!b.stepData||b==f)return!1;l.scrollTo(0,0);var a=b.stepData;f&&f.classList.remove("active");b.classList.add("active");i.className="step-"+b.id;l.clearTimeout(B);B=l.setTimeout(function(){l.location.hash="#/"+b.id},1E3);var c={rotate:{x:-parseInt(a.rotate.x,10),y:-parseInt(a.rotate.y,10),z:-parseInt(a.rotate.z,10)},
scale:{x:1/parseFloat(a.scale.x),y:1/parseFloat(a.scale.y),z:1/parseFloat(a.scale.z)}};c.translate="overview"===b.id?{x:-a.translate.x,y:-a.translate.y/2,z:-a.translate.z}:{x:-a.translate.x,y:-a.translate.y,z:-a.translate.z};var d=c.scale.x>=A.scale.x;if("overview"!==b.id){h(b,{position:"absolute",transform:"translate(-50%,-50%)"+r(a.selectTranslate)+s(a.rotate,!1)+t(a.scale),transformStyle:"preserve-3d",transitionProperty:"all",transitionTimingFunction:"ease-out",transitionDuration:"500ms",width:"550px",
height:"550px"});var e=q("img",b);e.src=e.src.replace("size=300","size=500")}h(i,{perspective:1E3*a.scale.x+"px",transform:t(c.scale),transitionDelay:d?"500ms":"0ms"});h(m,{transform:s(c.rotate,!0)+r(c.translate),transitionDelay:d?"0ms":"500ms"});A=c;return f=b},C=[9,13,27,32,33,34,37,38,39,40];g.addEventListener("keydown",function(b){if(C.contains(b.keyCode)){e=e||c[0];var a;if(null!==f&&void 0!==f&&"overview"===f.id)switch(b.keyCode){case 33:case 37:a=c.indexOf(e)-1;k(a);a=1<=a?c[a]:c[c.length-
1];null!==e&&o(e);e=a;u(e);break;case 38:a=c.indexOf(e)-IMAGES_PER_ROW;k(a);a=1<=a?c[a]:c[c.length+a];null!==e&&o(e);e=a;u(e);break;case 9:case 34:case 39:a=c.indexOf(e)+1;k(a);a=a<c.length?c[a]:c[1];null!==e&&o(e);e=a;u(e);break;case 40:a=c.indexOf(e)+IMAGES_PER_ROW;k(a);a=a<c.length?c[a]:c[a-c.length];null!==e&&o(e);e=a;u(e);break;case 32:o(e);a=c.indexOf(e);a=c[a];j(a);break;case 13:a=q("a",e).getAttribute("href");g.location.href=a;break;case 27:o(e)}else switch(b.keyCode){case 33:case 37:p(f);
a=c.indexOf(f)-1;k(a);a=1<=a?c[a]:c[c.length-1];j(a);break;case 38:p(f);a=c.indexOf(f)-IMAGES_PER_ROW;k(a);a=1<=a?c[a]:c[c.length+a];j(a);break;case 9:case 34:case 39:p(f);a=c.indexOf(f)+1;k(a);a=a<c.length?c[a]:c[1];j(a);break;case 40:p(f);a=c.indexOf(f)+IMAGES_PER_ROW;k(a);a=a<c.length?c[a]:c[a-c.length];j(a);break;case 32:p(f);a=c[0];e=f;j(a);u(e);break;case 13:a=q("a",f).getAttribute("href"),g.location.href=a}b.preventDefault()}},!1);var u=function(b){var a=b.stepData;h(b,{position:"absolute",
transform:"translate(-50%,-50%)"+r(a.hoverTranslate)+s(a.rotate,!1)+t(a.hoverScale),transformStyle:"preserve-3d",transitionProperty:"all",transitionTimingFunction:"ease-out",transitionDuration:"500ms"});b.style["box-shadow"]="32px 32px 40px #000"},o=function(b){h(b,w(b.stepData));b.style["box-shadow"]=""};g.addEventListener("click",function(b){for(var a=b.target;"A"!=a.tagName&&!a.stepData&&a!=g.body;)a=a.parentNode;if("A"==a.tagName){var c=a.getAttribute("href");c&&"#"==c[0]&&(a=v(c.slice(1)))}j(a)&&
b.preventDefault()},!1);l.addEventListener("hashchange",function(){j(v(l.location.hash.replace(/^#\/?/,"")))},!1);j(v(l.location.hash.replace(/^#\/?/,""))||c[0]);return{updateImpress:function(b){b=[].slice.call(b.childNodes);x(b,!0)},handleDescription:function(b){b.offsetHeight>b.offsetWidth&&q("div",b.parentNode.parentNode).classList.add("rotate")}}}i.className="impress-not-supported"}(document,window);